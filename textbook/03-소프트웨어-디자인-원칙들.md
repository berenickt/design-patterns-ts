# 1. 좋은 디자인의 특징

실제 패턴에 대해 논의하기 전에 소프트웨어 아키텍처를 설계하는 과정과
그 과정에서 목표로 삼거나 피해야 할 사항들에 대해 논의해 보겠습니다.

---

# 2. 코드 재사용

모든 소프트웨어 제품을 개발할 때 가장 중요한 두 가지 지표는 비용과 시간입니다.
개발 시간이 짧으면 경쟁자들보다 일찍 시장에 진입할 수 있으며,
개발 비용이 낮아지면 마케팅에 더 많은 자금을 투자하여 더 광범위한 잠재 고객들에 접근할 수 있습니다.

`코드 재사용`은 개발 비용을 줄이는 가장 일반적인 방법의 하나입니다. 코드를 재사용하는 의도는 상당히 명백합니다.
무언가를 계속 처음부터 다시 개발하지 말고, 기존 코드를 새 프로젝트에 다시 사용하자는 것이죠.

이 개념은 이론상으로는 훌륭해 보입니다. 그러나 새로운 상황에서 기존 코드를 작동하게 하는 것은 쉽지 않습니다.
왜냐하면 컴포넌트 간의 단단한 결합, 인터페이스 대신 구상 클래스들에 대한 의존 관계,
하드코딩 된 작업과 같은 여러 가지 요인들이 코드의 유연성을 감소시키고 재사용을 어렵게 만들기 때문입니다.

디자인 패턴을 사용하는 것은 소프트웨어 컴포넌트들의 유연성을 높이고 재사용하기 쉽게 만드는 한 가지 방법입니다.
그러나 이 방법은 때때로 컴포넌트들을 더 복잡하게 만듭니다.

다음은 디자인 패턴의 선구자 중 한 명인 에릭 감마의 코드 재사용에서의 디자인 패턴의 역할에 대한 견해입니다

> 저는 재사용을 세 가지 수준으로 이해합니다.
>
> 가장 낮은 수준에서는 클래스들을 재사용합니다. 그 예로는 클래스 라이브러리, 컨테이너 및 컨테이너/반복자와 같은 어떤 클래스 '팀'이 있습니다.
>
> 반면 프레임워크들은 최고 수준에 있으며, 이들은 당신의 디자인 결정들을 정제하려고 열심히 노력합니다. 프레임워크들은 문제를 해결하기 위한 핵심 추상화들을 식별한 후, 해당 추상화들을 클래스들로 표현하고 그들 사이의 관계들을 정의합니다. 예를 들어 JUnit은 작은 프레임워크이며, 프레임워크의 'Hello, world'라고 간주할 수 있습니다. 이 프레임워크에는 Test , TestCase , TestSuite 및 관계들이 정의되어 있습니다.
>
> 프레임워크는 일반적으로 단일 클래스보다 입자들이 큽니다. 또한 프레임워크에 연결할 때는 어딘가를 서브클래싱하여 연결합니다. 그들은 '전화하지 마, 전화할께'라는 이른바 헐리우드 원칙을 사용합니다. 프레임워크는 사용자 지정 행동을 정의할 수 있도록 해주고, 당신이 어떤 작업을 수행할 차례가 되면 당신을 호출할 것입니다. JUnit도 마찬가지죠? JUnit도 당신을 위해 테스트를 실행하고 싶을 때는 당신을 호출하지만, 나머지는 프레임워크에서 작동합니다.
>
> 중간 수준의 재사용도 있습니다. 저는 패턴이 이 수준에 속한다고 생각합니다. 디자인 패턴은 프레임워크보다 더 작고 추상적입니다. 디자인 패턴은 몇 개의 클래스들이 서로 어떻게 관련되어 있으며, 상호 작용할 수 있는지에 대한 상세한 설명입니다. 클래스에서 패턴으로, 그리고 마지막으로 프레임워크로 이동할수록 재사용 수준이 높아집니다.
>
> 이 중간 수준 계층의 좋은 점은 패턴이 종종 프레임워크보다 덜 위험한 방식의 재사용을 제공한다는 점입니다. 프레임워크를 구축하는 것은 위험이 높을 뿐만 아니라 상당한 투자가 들어가는 일입니다. 패턴을 사용하면 구상 코드와 관계 없이 디자인 아이디어들과 개념들을 재사용할 수 있습니다.
>
> cf. 에릭 감마가 말하는 유연성과 재사용: https://refactoring.guru/gamma-interview

---

# 3. 확장성

변화는 프로그래머의 삶에서 유일하게 변하지 않는 것입니다.

- 윈도우용으로 비디오 게임을 출시했는데, 사람들은 이제 맥용 버전을 요구합니다.
- 그래픽 사용자 인터페이스 프레임워크에 네모난 버튼들을 만들었는데, 몇 개월 후에 둥근 버튼이 유행하게 되었습니다.
- 뛰어난 전자상거래 웹사이트 아키텍처를 디자인했는데, 불과 한 달 후 고객들이 전화 주문을 수락할 수 있는 기능을 요청합니다.

대부분 소프트웨어 개발자들은 이와 같은 상황들을 수십 번 이상 경험했을 것입니다.
이러한 상황들이 발생하는 데는 몇 가지 이유가 있습니다.

첫 번째 이유는 일단 문제를 해결하기 시작하면 문제를 더 잘 이해할 수 있기 때문입니다.
종종 개발자들은 앱의 첫 번째 버전의 개발을 끝마칠 때쯤에 문제의 여러 측면을 훨씬 더 잘 이해하기 때문에
처음부터 다시 개발하고 싶어 할 수 있습니다.
또, 개발자로서의 실력이 향상된 덕분에 작성한 코드가 쓰레기처럼 보일 수도 있습니다.

두 번째 이유는 통제할 수 없는 무언가가 변경되었기 때문입니다.
이는 많은 개발 팀들이 원래 아이디어에서 새로운 아이디어로 선회하는 이유입니다.
e.g. 온라인 앱에서 플래시에 의존했던 개발자들은 브라우저들이 플래시에 대한 지원을 중단했을 때,
코드를 재작성하거나 마이그레이션해야 했습니다.

세 번째 이유는 목표들이 변했기 때문입니다.
e.g. 당신의 고객은 앱의 현재 버전에 만족했고
이제 원래 기획 단계 미팅에서 언급하지 않은 11개의 '작은' 변경을 수행하기를 원합니다.
사실 이러한 변경은 사소하지 않습니다.
당신의 첫 번째 버전이 훌륭하여 고객에게 더 많은 것들이 가능하다는 것을 보여준 것이죠

> 긍정적인 측면도 있습니다. 누군가 당신의 앱에서 뭔가를 바꿔 달라고 요청한다면,
> 그건 누군가 당신의 앱에 여전히 관심이 있다는 뜻이니까요

그러므로 모든 노련한 개발자들은 앱의 아키텍처를 설계할 때 미래에 변경들이 가능하게 하려고 노력합니다.
